var P=Object.defineProperty,Q=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var C=(e,a,o)=>a in e?P(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,f=(e,a)=>{for(var o in a||(a={}))z.call(a,o)&&C(e,o,a[o]);if(H)for(var o of H(a))D.call(a,o)&&C(e,o,a[o]);return e},L=(e,a)=>Q(e,k(a));import{c as d,h as y,f as j,af as K,ag as N,r as E,ah as U,P as Y,Y as G,g as J,y as h}from"./index.f641a640.js";import{b as O}from"./format.801e7424.js";const T={name:String};function W(e){return d(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function X(e={}){return(a,o,g)=>{a[o](y("input",f({class:"hidden"+(g||"")},e.value)))}}var ne=j({name:"QRating",props:L(f(f({},K),T),{modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean}),emits:["update:modelValue"],setup(e,{slots:a,emit:o}){const{proxy:{$q:g}}=J(),V=N(e),$=W(e),q=X($),i=E(0);let s={};const m=d(()=>e.readonly!==!0&&e.disable!==!0),_=d(()=>`q-rating row inline items-center q-rating--${m.value===!0?"":"non-"}editable`+(e.noDimming===!0?" q-rating--no-dimming":"")+(e.disable===!0?" disabled":"")+(e.color!==void 0&&Array.isArray(e.color)===!1?` text-${e.color}`:"")),M=d(()=>{const t=Array.isArray(e.icon)===!0?e.icon.length:0,l=Array.isArray(e.iconSelected)===!0?e.iconSelected.length:0,r=Array.isArray(e.iconHalf)===!0?e.iconHalf.length:0,u=Array.isArray(e.color)===!0?e.color.length:0,n=Array.isArray(e.colorSelected)===!0?e.colorSelected.length:0,c=Array.isArray(e.colorHalf)===!0?e.colorHalf.length:0;return{iconLen:t,icon:t>0?e.icon[t-1]:e.icon,selIconLen:l,selIcon:l>0?e.iconSelected[l-1]:e.iconSelected,halfIconLen:r,halfIcon:r>0?e.iconHalf[l-1]:e.iconHalf,colorLen:u,color:u>0?e.color[u-1]:e.color,selColorLen:n,selColor:n>0?e.colorSelected[n-1]:e.colorSelected,halfColorLen:c,halfColor:c>0?e.colorHalf[c-1]:e.colorHalf}}),B=d(()=>{const t=[],l=M.value,r=Math.ceil(e.modelValue),u=e.iconHalf===void 0||r===e.modelValue?-1:r;for(let n=1;n<=e.max;n++){const c=i.value===0&&e.modelValue>=n||i.value>0&&i.value>=n,v=u===n&&i.value<n,I=i.value>0&&(v===!0?r:e.modelValue)>=n&&i.value<n,x=v===!0?n<=l.halfColorLen?e.colorHalf[n-1]:l.halfColor:l.selColor!==void 0&&c===!0?n<=l.selColorLen?e.colorSelected[n-1]:l.selColor:n<=l.colorLen?e.color[n-1]:l.color;t.push({name:(v===!0?n<=l.halfIconLen?e.iconHalf[n-1]:l.halfIcon:l.selIcon!==void 0&&(c===!0||I===!0)?n<=l.selIconLen?e.iconSelected[n-1]:l.selIcon:n<=l.iconLen?e.icon[n-1]:l.icon)||g.iconSet.rating.icon,classes:"q-rating__icon"+(c===!0||v===!0?" q-rating__icon--active":"")+(I===!0?" q-rating__icon--exselected":"")+(i.value===n?" q-rating__icon--hovered":"")+(x!==void 0?` text-${x}`:"")})}return t}),F=d(()=>{if(e.disable===!0)return{"aria-disabled":"true"};if(e.readonly===!0)return{"aria-readonly":"true"}}),R=d(()=>m.value===!0?0:null);function S(t){if(m.value===!0){const l=O(parseInt(t,10),1,parseInt(e.max,10)),r=e.noReset!==!0&&e.modelValue===l?0:l;r!==e.modelValue&&o("update:modelValue",r),i.value=0}}function A(t){m.value===!0&&(i.value=t)}function w(t,l){switch(t.keyCode){case 13:case 32:return S(l),h(t);case 37:case 40:return s[`rt${l-1}`]&&s[`rt${l-1}`].$el.focus(),h(t);case 39:case 38:return s[`rt${l+1}`]&&s[`rt${l+1}`].$el.focus(),h(t)}}function b(){i.value=0}return U(()=>{s={}}),()=>{const t=[];return B.value.forEach(({classes:l,name:r},u)=>{const n=u+1;t.push(y("div",{key:n,ref:c=>{s[`rt${n}`]=c},class:"q-rating__icon-container flex flex-center",tabindex:R.value,onClick(){S(n)},onMouseover(){A(n)},onMouseout:b,onFocus(){A(n)},onBlur:b,onKeyup(c){w(c,n)}},Y(a[`tip-${n}`],[y(G,{class:l,name:r})])))}),e.name!==void 0&&e.disable!==!0&&q(t,"push"),y("div",f({class:_.value,style:V.value},F.value),t)}}});export{ne as Q};
