import{Q as i,a as k}from"./QCard.9a1e72ef.js";import{Q as y}from"./QSeparator.0fa741c0.js";import{Q as b,a as V}from"./QCarousel.550c41ab.js";import{u as $,Q as C,a as m}from"./use-quasar.99581c6d.js";import{ae as P,r as l,o as S,Q as p,R as v,S as e,d as n,a0 as o,X as g,W as B,Z as L,a1 as M,F as N}from"./index.fb1992e9.js";import"./use-dark.68fd4980.js";import"./selection.fe766a55.js";const T={class:"text-h6"},q=["href"],E={class:"text-h6"},F=["href"],H=["innerHTML"],I={__name:"PostPage",setup(R){const w=$(),s=P().params.id,h=l(null),d=l(null),u=l(null),c=l(null),Q=/( |<([^>]+)>)/ig,_=l([]),f=l("style");function x(){m.get(`/posts/${s}`).then(t=>{h.value=t.data.title.rendered,c.value=t.data.content.rendered,d.value=t.data.acf.\u0430\u0434\u0440\u0435\u0441,u.value=t.data.acf.\u0442\u0435\u043B\u0435\u0444\u043E\u043D,c.value=t.data.acf.card_content}).catch(t=>{console.log(t)}),m.get(`/media?parent=${s}`).then(t=>{_.value=t.data}).catch(t=>{console.log(t)}),m.get(`/comments?post=${s}`).then(t=>{function r(a){return a.replace(Q," ")}t.data.forEach(a=>{w.notify(r(a.content.rendered))})}).catch(t=>{console.log(t)})}return S(()=>{x()}),(t,r)=>(p(),v(C,null,{default:e(()=>[n(k,{flat:"",bordered:"",class:"my-card"},{default:e(()=>[n(i,null,{default:e(()=>[o("div",T,[o("h1",null,g(h.value),1)])]),_:1}),n(i,{class:"q-pt-none"},{default:e(()=>[B(g(d.value)+" ",1),o("div",null,[o("a",{href:`https://www.google.com/maps/dir//${d.value}`},"\u041F\u043E\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442",8,q)])]),_:1}),n(i,null,{default:e(()=>[o("div",E,[o("a",{href:`tel:${u.value}`},g(u.value),9,F)])]),_:1}),n(y,{inset:""}),n(b,{autoplay:"",swipeable:"",animated:"",modelValue:f.value,"onUpdate:modelValue":r[0]||(r[0]=a=>f.value=a),arrows:"",infinite:"",height:"500px",class:"shadow-3"},{default:e(()=>[(p(!0),L(N,null,M(_.value,a=>(p(),v(V,{key:a.id,name:a.id,"img-src":a.guid.rendered},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue"]),n(i,null,{default:e(()=>[o("div",{innerHTML:c.value},null,8,H)]),_:1})]),_:1})]),_:1}))}};export{I as default};
