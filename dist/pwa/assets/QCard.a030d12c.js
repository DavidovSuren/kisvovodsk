import{c,h as f,f as S,ae as M,af as z,r as D,ag as F,P,Y as R,g as x,y as h,j as H}from"./index.1a517530.js";import{b as j}from"./format.801e7424.js";import{u as K,a as N}from"./use-dark.2e525ed8.js";const E={name:String};function U(e){return c(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function Y(e={}){return(i,u,m)=>{i[u](f("input",{class:"hidden"+(m||""),...e.value}))}}var T=S({name:"QRating",props:{...M,...E,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{slots:i,emit:u}){const{proxy:{$q:m}}=x(),y=z(e),_=U(e),$=Y(_),r=D(0);let s={};const v=c(()=>e.readonly!==!0&&e.disable!==!0),L=c(()=>`q-rating row inline items-center q-rating--${v.value===!0?"":"non-"}editable`+(e.noDimming===!0?" q-rating--no-dimming":"")+(e.disable===!0?" disabled":"")+(e.color!==void 0&&Array.isArray(e.color)===!1?` text-${e.color}`:"")),V=c(()=>{const n=Array.isArray(e.icon)===!0?e.icon.length:0,t=Array.isArray(e.iconSelected)===!0?e.iconSelected.length:0,l=Array.isArray(e.iconHalf)===!0?e.iconHalf.length:0,d=Array.isArray(e.color)===!0?e.color.length:0,a=Array.isArray(e.colorSelected)===!0?e.colorSelected.length:0,o=Array.isArray(e.colorHalf)===!0?e.colorHalf.length:0;return{iconLen:n,icon:n>0?e.icon[n-1]:e.icon,selIconLen:t,selIcon:t>0?e.iconSelected[t-1]:e.iconSelected,halfIconLen:l,halfIcon:l>0?e.iconHalf[t-1]:e.iconHalf,colorLen:d,color:d>0?e.color[d-1]:e.color,selColorLen:a,selColor:a>0?e.colorSelected[a-1]:e.colorSelected,halfColorLen:o,halfColor:o>0?e.colorHalf[o-1]:e.colorHalf}}),B=c(()=>{const n=[],t=V.value,l=Math.ceil(e.modelValue),d=e.iconHalf===void 0||l===e.modelValue?-1:l;for(let a=1;a<=e.max;a++){const o=r.value===0&&e.modelValue>=a||r.value>0&&r.value>=a,g=d===a&&r.value<a,C=r.value>0&&(g===!0?l:e.modelValue)>=a&&r.value<a,I=g===!0?a<=t.halfColorLen?e.colorHalf[a-1]:t.halfColor:t.selColor!==void 0&&o===!0?a<=t.selColorLen?e.colorSelected[a-1]:t.selColor:a<=t.colorLen?e.color[a-1]:t.color;n.push({name:(g===!0?a<=t.halfIconLen?e.iconHalf[a-1]:t.halfIcon:t.selIcon!==void 0&&(o===!0||C===!0)?a<=t.selIconLen?e.iconSelected[a-1]:t.selIcon:a<=t.iconLen?e.icon[a-1]:t.icon)||m.iconSet.rating.icon,classes:"q-rating__icon"+(o===!0||g===!0?" q-rating__icon--active":"")+(C===!0?" q-rating__icon--exselected":"")+(r.value===a?" q-rating__icon--hovered":"")+(I!==void 0?` text-${I}`:"")})}return n}),k=c(()=>{if(e.disable===!0)return{"aria-disabled":"true"};if(e.readonly===!0)return{"aria-readonly":"true"}}),Q=c(()=>v.value===!0?0:null);function A(n){if(v.value===!0){const t=j(parseInt(n,10),1,parseInt(e.max,10)),l=e.noReset!==!0&&e.modelValue===t?0:t;l!==e.modelValue&&u("update:modelValue",l),r.value=0}}function q(n){v.value===!0&&(r.value=n)}function w(n,t){switch(n.keyCode){case 13:case 32:return A(t),h(n);case 37:case 40:return s[`rt${t-1}`]&&s[`rt${t-1}`].$el.focus(),h(n);case 39:case 38:return s[`rt${t+1}`]&&s[`rt${t+1}`].$el.focus(),h(n)}}function b(){r.value=0}return F(()=>{s={}}),()=>{const n=[];return B.value.forEach(({classes:t,name:l},d)=>{const a=d+1;n.push(f("div",{key:a,ref:o=>{s[`rt${a}`]=o},class:"q-rating__icon-container flex flex-center",tabindex:Q.value,onClick(){A(a)},onMouseover(){q(a)},onMouseout:b,onFocus(){q(a)},onBlur:b,onKeyup(o){w(o,a)}},P(i[`tip-${a}`],[f(R,{class:t,name:l})])))}),e.name!==void 0&&e.disable!==!0&&$(n,"push"),f("div",{class:L.value,style:y.value,...k.value},n)}}}),W=S({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:i}){const u=c(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>f(e.tag,{class:u.value},H(i.default))}}),X=S({name:"QCard",props:{...K,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:i}){const u=x(),m=N(e,u.proxy.$q),y=c(()=>"q-card"+(m.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>f(e.tag,{class:y.value},H(i.default))}});export{X as Q,T as a,W as b};
