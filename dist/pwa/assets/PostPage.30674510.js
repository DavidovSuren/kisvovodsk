import{a as s,Q as $}from"./QCard.c8f57ff4.js";import{Q as P}from"./QSeparator.3ae14e54.js";import{Q as C,a as L}from"./QCarousel.4faa58b0.js";import{u as M,Q as T,a as _}from"./use-quasar.79a73f38.js";import{ai as k,r as o,o as B,O as m,P as Q,Q as l,d as n,Z as t,U as x,V as f,X as H,$ as S,F as N}from"./index.2acf97f1.js";import"./use-dark.68ff7c75.js";import"./selection.4eb63a8d.js";const b={class:"text-h6"},q=["innerHTML"],E=["href"],F={class:"text-h6"},U=x(" \u0422\u0435\u043B\u0435\u0444\u043E\u043D: "),D=["href"],O={class:"text-h6"},R=["innerHTML"],Y={__name:"PostPage",setup(X){const y=M(),d=k().params.id,h=o(null),u=o(null),c=o(null),p=o(null),i=o(null),w=/( |<([^>]+)>)/ig,v=o([]),g=o("style");function V(){_.get(`/posts/${d}`).then(e=>{h.value=e.data.title.rendered,i.value=e.data.content.rendered,u.value=e.data.acf.\u0430\u0434\u0440\u0435\u0441,c.value=e.data.acf.\u0442\u0435\u043B\u0435\u0444\u043E\u043D,p.value=e.data.acf.\u0432\u0440\u0435\u043C\u044F_\u0440\u0430\u0431\u043E\u0442\u044B,i.value=e.data.acf.card_content}).catch(e=>{console.log(e)}),_.get(`/media?parent=${d}`).then(e=>{v.value=e.data}).catch(e=>{console.log(e)}),_.get(`/comments?post=${d}`).then(e=>{function r(a){return a.replace(w," ")}e.data.forEach(a=>{y.notify(r(a.content.rendered))})}).catch(e=>{console.log(e)})}return B(()=>{V()}),(e,r)=>(m(),Q(T,null,{default:l(()=>[n($,{flat:"",bordered:"",class:"my-card"},{default:l(()=>[n(s,null,{default:l(()=>[t("div",b,[t("h1",{innerHTML:h.value},null,8,q)])]),_:1}),n(s,{class:"q-pt-none"},{default:l(()=>[x(" \u0410\u0434\u0440\u0435\u0441: "+f(u.value)+" ",1),t("div",null,[t("a",{href:`https://www.google.com/maps/dir//${u.value}`},"\u041F\u043E\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442",8,E)])]),_:1}),n(s,null,{default:l(()=>[t("div",F,[U,t("a",{href:`tel:${c.value}`},f(c.value),9,D)])]),_:1}),n(s,null,{default:l(()=>[t("div",O,[t("span",null,"\u0412\u0440\u0435\u043C\u044F \u0440\u0430\u0431\u043E\u0442\u044B: "+f(p.value),1)])]),_:1}),n(P,{inset:""}),n(C,{autoplay:"",swipeable:"",animated:"",modelValue:g.value,"onUpdate:modelValue":r[0]||(r[0]=a=>g.value=a),arrows:"",infinite:"",height:"500px",class:"shadow-3"},{default:l(()=>[(m(!0),H(N,null,S(v.value,a=>(m(),Q(L,{key:a.id,name:a.id,"img-src":a.guid.rendered},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue"]),n(s,null,{default:l(()=>[t("div",{innerHTML:i.value},null,8,R)]),_:1})]),_:1})]),_:1}))}};export{Y as default};
