import{Q as s,a as $}from"./QCard.62512f6d.js";import{Q as C}from"./QSeparator.4e15656c.js";import{Q as P,a as S}from"./QCarousel.4db094f7.js";import{u as k,Q as B,a as m}from"./use-quasar.24254b6b.js";import{ae as L,r as n,o as M,Q as f,R as Q,S as l,d as o,a0 as t,X as r,W as x,Z as N,a1 as T,F as b}from"./index.3436a26d.js";import"./use-dark.22a0dd4a.js";import"./selection.6f0f3a69.js";const q={class:"text-h6"},E=["href"],F={class:"text-h6"},H=x(" \u0422\u0435\u043B\u0435\u0444\u043E\u043D: "),R=["href"],D={class:"text-h6"},U=["innerHTML"],O={__name:"PostPage",setup(W){const y=k(),u=L().params.id,h=n(null),c=n(null),i=n(null),p=n(null),_=n(null),w=/( |<([^>]+)>)/ig,v=n([]),g=n("style");function V(){m.get(`/posts/${u}`).then(e=>{h.value=e.data.title.rendered,_.value=e.data.content.rendered,c.value=e.data.acf.\u0430\u0434\u0440\u0435\u0441,i.value=e.data.acf.\u0442\u0435\u043B\u0435\u0444\u043E\u043D,p.value=e.data.acf.\u0432\u0440\u0435\u043C\u044F_\u0440\u0430\u0431\u043E\u0442\u044B,_.value=e.data.acf.card_content}).catch(e=>{console.log(e)}),m.get(`/media?parent=${u}`).then(e=>{v.value=e.data}).catch(e=>{console.log(e)}),m.get(`/comments?post=${u}`).then(e=>{function d(a){return a.replace(w," ")}e.data.forEach(a=>{y.notify(d(a.content.rendered))})}).catch(e=>{console.log(e)})}return M(()=>{V()}),(e,d)=>(f(),Q(B,null,{default:l(()=>[o($,{flat:"",bordered:"",class:"my-card"},{default:l(()=>[o(s,null,{default:l(()=>[t("div",q,[t("h1",null,r(h.value),1)])]),_:1}),o(s,{class:"q-pt-none"},{default:l(()=>[x(" \u0410\u0434\u0440\u0435\u0441: "+r(c.value)+" ",1),t("div",null,[t("a",{href:`https://www.google.com/maps/dir//${c.value}`},"\u041F\u043E\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442",8,E)])]),_:1}),o(s,null,{default:l(()=>[t("div",F,[H,t("a",{href:`tel:${i.value}`},r(i.value),9,R)])]),_:1}),o(s,null,{default:l(()=>[t("div",D,[t("span",null,"\u0412\u0440\u0435\u043C\u044F \u0440\u0430\u0431\u043E\u0442\u044B: "+r(p.value),1)])]),_:1}),o(C,{inset:""}),o(P,{autoplay:"",swipeable:"",animated:"",modelValue:g.value,"onUpdate:modelValue":d[0]||(d[0]=a=>g.value=a),arrows:"",infinite:"",height:"500px",class:"shadow-3"},{default:l(()=>[(f(!0),N(b,null,T(v.value,a=>(f(),Q(S,{key:a.id,name:a.id,"img-src":a.guid.rendered},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue"]),o(s,null,{default:l(()=>[t("div",{innerHTML:_.value},null,8,U)]),_:1})]),_:1})]),_:1}))}};export{O as default};
