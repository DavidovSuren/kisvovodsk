import{Q as s,a as V}from"./QCard.d13797c8.js";import{Q as $}from"./QSeparator.b1d60905.js";import{Q as C,a as P}from"./QCarousel.3fe43a87.js";import{u as S,Q as k,a as m}from"./use-quasar.40a3cf54.js";import{ae as B,r as n,o as L,Q as f,R as Q,S as l,d as o,a0 as t,X as d,W as M,Z as N,a1 as T,F as b}from"./index.07a681f6.js";import"./use-dark.f86ea741.js";import"./selection.27ba186e.js";const q={class:"text-h6"},E=["href"],F={class:"text-h6"},H=["href"],R={class:"text-h6"},D=["innerHTML"],K={__name:"PostPage",setup(U){const x=S(),u=B().params.id,h=n(null),c=n(null),i=n(null),p=n(null),_=n(null),y=/( |<([^>]+)>)/ig,v=n([]),g=n("style");function w(){m.get(`/posts/${u}`).then(e=>{h.value=e.data.title.rendered,_.value=e.data.content.rendered,c.value=e.data.acf.\u0430\u0434\u0440\u0435\u0441,i.value=e.data.acf.\u0442\u0435\u043B\u0435\u0444\u043E\u043D,p.value=e.data.acf.\u0432\u0440\u0435\u043C\u044F_\u0440\u0430\u0431\u043E\u0442\u044B,_.value=e.data.acf.card_content}).catch(e=>{console.log(e)}),m.get(`/media?parent=${u}`).then(e=>{v.value=e.data}).catch(e=>{console.log(e)}),m.get(`/comments?post=${u}`).then(e=>{function r(a){return a.replace(y," ")}e.data.forEach(a=>{x.notify(r(a.content.rendered))})}).catch(e=>{console.log(e)})}return L(()=>{w()}),(e,r)=>(f(),Q(k,null,{default:l(()=>[o(V,{flat:"",bordered:"",class:"my-card"},{default:l(()=>[o(s,null,{default:l(()=>[t("div",q,[t("h1",null,d(h.value),1)])]),_:1}),o(s,{class:"q-pt-none"},{default:l(()=>[M(d(c.value)+" ",1),t("div",null,[t("a",{href:`https://www.google.com/maps/dir//${c.value}`},"\u041F\u043E\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442",8,E)])]),_:1}),o(s,null,{default:l(()=>[t("div",F,[t("a",{href:`tel:${i.value}`},d(i.value),9,H)])]),_:1}),o(s,null,{default:l(()=>[t("div",R,[t("span",null,d(p.value),1)])]),_:1}),o($,{inset:""}),o(C,{autoplay:"",swipeable:"",animated:"",modelValue:g.value,"onUpdate:modelValue":r[0]||(r[0]=a=>g.value=a),arrows:"",infinite:"",height:"500px",class:"shadow-3"},{default:l(()=>[(f(!0),N(b,null,T(v.value,a=>(f(),Q(P,{key:a.id,name:a.id,"img-src":a.guid.rendered},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue"]),o(s,null,{default:l(()=>[t("div",{innerHTML:_.value},null,8,D)]),_:1})]),_:1})]),_:1}))}};export{K as default};
