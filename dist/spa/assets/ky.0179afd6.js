var k=Object.defineProperty,x=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var g=(r,t,e)=>t in r?k(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,c=(r,t)=>{for(var e in t||(t={}))E.call(t,e)&&g(r,e,t[e]);if(w)for(var e of w(t))O.call(t,e)&&g(r,e,t[e]);return r},f=(r,t)=>x(r,j(t));import{e as S}from"./index.f49e1a8b.js";class R extends Error{constructor(t,e,s){const o=t.status||t.status===0?t.status:"",n=t.statusText||"",a=`${o} ${n}`.trim(),i=a?`status code ${a}`:"an unknown error";super(`Request failed with ${i}`);Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="HTTPError",this.response=t,this.request=e,this.options=s}}class q extends Error{constructor(t){super("Request timed out");Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=t}}const d=r=>r!==null&&typeof r=="object",p=(...r)=>{for(const t of r)if((!d(t)||Array.isArray(t))&&typeof t!="undefined")throw new TypeError("The `options` argument must be an object");return _({},...r)},C=(r={},t={})=>{const e=new globalThis.Headers(r),s=t instanceof globalThis.Headers,o=new globalThis.Headers(t);for(const[n,a]of o.entries())s&&a==="undefined"||a===void 0?e.delete(n):e.set(n,a);return e},_=(...r)=>{let t={},e={};for(const s of r)if(Array.isArray(s))Array.isArray(t)||(t=[]),t=[...t,...s];else if(d(s)){for(let[o,n]of Object.entries(s))d(n)&&o in t&&(n=_(t[o],n)),t=f(c({},t),{[o]:n});d(s.headers)&&(e=C(e,s.headers),t.headers=e)}return t},U=typeof globalThis.AbortController=="function",F=typeof globalThis.ReadableStream=="function",H=typeof globalThis.FormData=="function",v=["get","post","put","patch","head","delete"],D={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},b=2147483647,A=Symbol("stop"),N=r=>v.includes(r)?r.toUpperCase():r,$=["get","put","head","delete","options","trace"],I=[408,413,429,500,502,503,504],P=[413,429,503],T={limit:2,methods:$,statusCodes:I,afterStatusCodes:P,maxRetryAfter:Number.POSITIVE_INFINITY},M=(r={})=>{if(typeof r=="number")return f(c({},T),{limit:r});if(r.methods&&!Array.isArray(r.methods))throw new Error("retry.methods must be an array");if(r.statusCodes&&!Array.isArray(r.statusCodes))throw new Error("retry.statusCodes must be an array");return f(c(c({},T),r),{afterStatusCodes:P})},L=async(r,t,e)=>new Promise((s,o)=>{const n=setTimeout(()=>{t&&t.abort(),o(new q(r))},e.timeout);e.fetch(r).then(s).catch(o).then(()=>{clearTimeout(n)})}),B=async r=>new Promise(t=>{setTimeout(t,r)});class y{constructor(t,e={}){var s,o,n;if(Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=t,this._options=f(c({credentials:this._input.credentials||"same-origin"},e),{headers:C(this._input.headers,e.headers),hooks:_({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},e.hooks),method:N((s=e.method)!=null?s:this._input.method),prefixUrl:String(e.prefixUrl||""),retry:M(e.retry),throwHttpErrors:e.throwHttpErrors!==!1,timeout:typeof e.timeout=="undefined"?1e4:e.timeout,fetch:(o=e.fetch)!=null?o:globalThis.fetch.bind(globalThis)}),typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(U&&(this.abortController=new globalThis.AbortController,this._options.signal&&this._options.signal.addEventListener("abort",()=>{this.abortController.abort()}),this._options.signal=this.abortController.signal),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const a=typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString(),i="?"+a,u=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,i);(H&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(u,this.request),this._options)}this._options.json!==void 0&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type",(n=this._options.headers.get("content-type"))!=null?n:"application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}))}static create(t,e){const s=new y(t,e),o=async()=>{if(s._options.timeout>b)throw new RangeError(`The \`timeout\` option cannot be greater than ${b}`);await Promise.resolve();let i=await s._fetch();for(const u of s._options.hooks.afterResponse){const h=await u(s.request,s._options,s._decorateResponse(i.clone()));h instanceof globalThis.Response&&(i=h)}if(s._decorateResponse(i),!i.ok&&s._options.throwHttpErrors){let u=new R(i,s.request,s._options);for(const h of s._options.hooks.beforeError)u=await h(u);throw u}if(s._options.onDownloadProgress){if(typeof s._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!F)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return s._stream(i.clone(),s._options.onDownloadProgress)}return i},a=s._options.retry.methods.includes(s.request.method.toLowerCase())?s._retry(o):o();for(const[i,u]of Object.entries(D))a[i]=async()=>{s.request.headers.set("accept",s.request.headers.get("accept")||u);const l=(await a).clone();if(i==="json"){if(l.status===204)return"";if(e.parseJson)return e.parseJson(await l.text())}return l[i]()};return a}_calculateRetryDelay(t){if(this._retryCount++,this._retryCount<this._options.retry.limit&&!(t instanceof q)){if(t instanceof R){if(!this._options.retry.statusCodes.includes(t.response.status))return 0;const s=t.response.headers.get("Retry-After");if(s&&this._options.retry.afterStatusCodes.includes(t.response.status)){let o=Number(s);return Number.isNaN(o)?o=Date.parse(s)-Date.now():o*=1e3,typeof this._options.retry.maxRetryAfter!="undefined"&&o>this._options.retry.maxRetryAfter?0:o}if(t.response.status===413)return 0}return .3*2**(this._retryCount-1)*1e3}return 0}_decorateResponse(t){return this._options.parseJson&&(t.json=async()=>this._options.parseJson(await t.text())),t}async _retry(t){try{return await t()}catch(e){const s=Math.min(this._calculateRetryDelay(e),b);if(s!==0&&this._retryCount>0){await B(s);for(const o of this._options.hooks.beforeRetry)if(await o({request:this.request,options:this._options,error:e,retryCount:this._retryCount})===A)return;return this._retry(t)}throw e}}async _fetch(){for(const t of this._options.hooks.beforeRequest){const e=await t(this.request,this._options);if(e instanceof Request){this.request=e;break}if(e instanceof Response)return e}return this._options.timeout===!1?this._options.fetch(this.request.clone()):L(this.request.clone(),this.abortController,this._options)}_stream(t,e){const s=Number(t.headers.get("content-length"))||0;let o=0;return new globalThis.Response(new globalThis.ReadableStream({async start(n){const a=t.body.getReader();e&&e({percent:0,transferredBytes:0,totalBytes:s},new Uint8Array);async function i(){const{done:u,value:h}=await a.read();if(u){n.close();return}if(e){o+=h.byteLength;const l=s===0?0:o/s;e({percent:l,transferredBytes:o,totalBytes:s},h)}n.enqueue(h),await i()}await i()}}),{status:t.status,statusText:t.statusText,headers:t.headers})}}/*! MIT License Â© Sindre Sorhus */const m=r=>{const t=(e,s)=>y.create(e,p(r,s));for(const e of v)t[e]=(s,o)=>y.create(s,p(r,o,{method:e}));return t.create=e=>m(p(e)),t.extend=e=>m(p(r,e)),t.stop=A,t},J=m();var z=J;const K="http://content.kissloveodsk.ru/wp-json/wp/v2/posts",V={async get_posts(){return await z.get(K).json()}};var G=S(({app:r})=>{r.config.globalProperties.$fetch=V});export{G as default,K as url};
